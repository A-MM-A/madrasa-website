<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dar al-Arqam - About us</title>


    <link rel="shortcut icon" href="media/logo.ico" type="image/x-icon">
    <link rel="icon" href="media/logo.ico" type="image/x-icon">


    <link rel="stylesheet" href="css/news.css" />
    <link rel="stylesheet" href="style.css" />
</head>


<body>
    <!-- Header -->
    <header class="site-header">
        <div class="container header-inner">
            <a href="index.html" class="logo">
                <img src="media/logo.png" alt="Dar al-Arqam Logo" class="logo-image" />
                <div class="logo-text">
                    <h1>Dar al-Arqam</h1>
                    <span>Qur‚ÄôƒÅn & Tarbƒ´ya</span>
                </div>
            </a>
            <nav class="site-nav" id="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="programs.html">Programs</a></li>
                    <li><a href="teachers.html">Teachers</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="About.html">About Us</a></li>
                    <li><a href="#"><span style="color: var(--primary-green);">News</span></a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="#" class="btn donate">Donate</a>
                <a href="#" class="btn enroll" onclick="openEnrollModal(event)">Enroll Now</a>
                <!-- <button class="btn icon-btn search-btn">üîç</button> -->
                <button class="btn icon-btn mobile-menu" id="menu-toggle">‚ò∞</button>
            </div>
        </div>
    </header>

    <!-- enroll now pop up -->
    <div id="enrollModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeEnrollModal()">&times;</span>
            <h2>Select Enrollment Type</h2>
            <div class="cards-container">
                <!-- Card 1 -->
                <div class="enroll-card">
                    <div class="card-image"><img src="media/slide1.jpg" alt="#"></div>
                    <div class="card-desc">
                        <h3>Qur‚ÄôƒÅn & Taalim </h3>
                        <p>Hifdh Al-Qur‚ÄôƒÅn with Tajweed and Understanding. Ilmu Aqidah, Fiqh, Seerah & Aqhlaq.</p>
                    </div>
                    <button><a href="enroll.html">Enroll Now</a></button>
                </div>
                <!-- Card 2 -->
                <div class="enroll-card">
                    <div class="card-image"><img src="media/slide2.jpg" alt="#"></div>
                    <div class="card-desc">
                        <h3>Islamic Day Care & Qur‚ÄôƒÅn</h3>
                        <p>Day care for ages 2+ with daily Qur‚ÄôƒÅn memorization and Islamic teachings (Adab) from Early
                            age.</p>
                    </div>
                    <button><a href="enroll-d.html">Enroll Now</a></button>
                </div>
            </div>
        </div>
    </div>



    <!-- Main info -->
    <main class="news-page">

        <!-- Highlighted News -->
        <section class="highlighted-news">
            <h2 class="section-title">Spotlight News</h2>
            <div class="highlight-card animate-fade-in">
                <img src="media/slide1.jpg" alt="Highlighted News">
                <div class="highlight-content">
                    <h2>Graduation Ceremony 2025</h2>
                    <p>Alhamdulillah, we celebrated our students‚Äô achievements with a memorable event full of Qur‚ÄôƒÅn
                        recitation and nasheeds.</p>
                    <!-- <a href="#" class="btn-read-more">Read More</a> -->
                </div>
            </div>
        </section>


        <!-- Multimedia Section -->
        <section class="multimedia">
            <h2 class="section-title">Gallery</h2>

            <div class="media-container" id="gallery-scroll">
                <div class="media-gallery">
                    <div class="media-item img-2x2">
                        <video autoplay muted loop playsinline>
                            <source src="media/intro.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="media-item img-1x2">
                        <video autoplay muted loop playsinline>
                            <source src="media/intro.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide2.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide2.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <video autoplay muted loop playsinline>
                            <source src="media/intro.mp4" type="video/mp4">
                        </video>
                    </div>
                    <div class="media-item img-2x2">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-1x1">
                        <img src="media/slide1.jpg" alt="Event Photo">
                    </div>
                    <div class="media-item img-2x1">
                        <img src="media/slide3.jpg" alt="Event Photo">
                    </div>

                </div>
            </div>

            <!-- Zoom Modal -->
            <div id="zoom-modal">
                <span id="zoom-close">&times;</span>
                <div id="zoom-content"></div>
            </div>
        </section>




        <!-- News Grid -->
        <section class="news-grid">
            <h2 class="section-title">More News</h2>

            <article class="news-card animate-slide-up">
                <div class="news-image">
                    <img src="media/slide1.jpg" alt="News 1">
                </div>
                <div class="news-content">
                    <h3>Ramadhan Program Launched</h3>
                    <p>Join our Ramadhan Qur‚ÄôƒÅn recitation and tafseer sessions daily after Asr prayer.</p>
                    <!-- <a href="#">Read More</a> -->
                </div>
            </article>

            <article class="news-card animate-slide-up">
                <div class="news-image">
                    <img src="media/slide2.jpg" alt="News 2">
                </div>
                <div class="news-content">
                    <h3>Charity Drive for Orphans</h3>
                    <p>We distributed food and clothes to local orphanages with the help of our community.</p>
                </div>
            </article>

            <article class="news-card animate-slide-up">
                <div class="news-image">
                    <img src="media/slide3.jpg" alt="News 3">
                </div>
                <div class="news-content">
                    <h3>Qur‚ÄôƒÅn Competition Winners</h3>
                    <p>Congratulations to all participants and winners for their dedication to the Qur‚ÄôƒÅn.</p>
                </div>
            </article>

            <article class="news-card animate-slide-up">
                <div class="news-image">
                    <img src="media/slide4.jpg" alt="News 3">
                </div>
                <div class="news-content">
                    <h3>Qur‚ÄôƒÅn Competition Winners</h3>
                    <p>Congratulations to all participants and winners for their dedication to the Qur‚ÄôƒÅn.</p>
                </div>
            </article>

        </section>

    </main>


    <footer class="site-footer">
        <div class="container footer-grid">
            <div>
                <h1>Dar al-Arqam</h1>
                <p>Qur‚ÄôƒÅn & Tarbƒ´ya Centre</p><br>
                <p> For Memorising Qur‚ÄôƒÅn and Islamic Education</p>
            </div>
            <div>
                <h2>Navigate</h2><br>
                <ul>
                    <li><a href="/">‚Ä¢ Home</a></li>
                    <li><a href="/programs">‚Ä¢ Programs</a></li>
                    <li><a href="/teachers">‚Ä¢ Teachers</a></li>
                    <li><a href="/events">‚Ä¢ Events</a></li>
                    <li><a href="/about-us">‚Ä¢ About Us</a></li>
                    <li><a href="/news">‚Ä¢ News</a></li>
                </ul>
            </div>
            <div>
                <h2>Connect</h2> <br>
                <ul>
                    <li><a href="https://youtube.com/@daralarqam.ke.111?si=MlqQ3Gv9TOuFzVuG" target="_blank"
                            title="YouTube">
                            <img src="./event_media/youtube.svg" class="footer-icon" alt="YouTube" />YouTube</a></li>
                    <li><a href="https://www.tiktok.com/@daralarqam.ke?_t=ZM-8yiRXKnKMCM&_r=1" target="_blank"
                            title="Tiktok">
                            <img src="./event_media/tiktok.svg" class="footer-icon" alt="Tiktok" />TikTok</a></li>
                    <li><a href="https://www.instagram.com/daralarqam.ke?igsh=NHN2a2FyODQzdDUx&utm_source=qr"
                            target="_blank" title="Instagram">
                            <img src="./event_media/intsagram.svg" class="footer-icon" alt="Instagram" />Instagram</a>
                    </li>
                    <li><a href="https://facebook.com" target="_blank" title="Facebook">
                            <img src="./event_media/facebook.svg" class="footer-icon" alt="Facebook" />Facebook</a></li>
                </ul>
            </div>
            <div>
                <p>&copy; 2025 Dar al-Arqam. All rights reserved.</p><br>
                <p>
                <h5><a href="#">By AMMA Foundation</a></h5>
                </p>
            </div>
        </div>
    </footer>


    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="script.js"></script>
    <script>

        // Smooth auto scroll with reverse
        const gallery = document.getElementById('gallery-scroll');
        let scrollDirection = 1; // 1 = forward, -1 = reverse
        let scrollSpeed = 1;

        // Mouse drag scroll variables
        let isDown = false;
        let startX;
        let scrollLeft;

        // Touch scroll variables
        let isTouching = false;
        let touchStartX;
        let touchScrollLeft;


        gallery.addEventListener('mousedown', (e) => {
            isDown = true;
            startX = e.pageX - gallery.offsetLeft;
            scrollLeft = gallery.scrollLeft;
            gallery.classList.add('dragging');
            e.preventDefault();
        });

        gallery.addEventListener('mouseleave', () => {
            isDown = false;
            gallery.classList.remove('dragging');
            isTouching = false;
        });

        gallery.addEventListener('mouseup', () => {
            isDown = false;
            gallery.classList.remove('dragging');
            isTouching = false;
        });

        gallery.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault();
            const x = e.pageX - gallery.offsetLeft;
            const walk = (x - startX) * 2; // scroll speed
            gallery.scrollLeft = scrollLeft - walk;
        });


        // Touch scroll for mobile
        gallery.addEventListener('touchstart', (e) => {
            if (e.touches.length !== 1) return; // only single finger
            isTouching = true;
            touchStartX = e.touches[0].pageX - gallery.offsetLeft;
            touchScrollLeft = gallery.scrollLeft;
        }, { passive: true });

        gallery.addEventListener('touchmove', (e) => {
            if (!isTouching) return;
            const x = e.touches[0].pageX - gallery.offsetLeft;
            const walk = (x - touchStartX) * 2;
            gallery.scrollLeft = touchScrollLeft - walk;
        }, { passive: true });

        gallery.addEventListener('touchend', () => {
            isTouching = false;
        });

        // Prevent image/video dragging
        document.querySelectorAll('.media-item img, .media-item video').forEach(media => {
            media.setAttribute('draggable', 'false');
            media.addEventListener('dragstart', (e) => e.preventDefault());
        });

        // Also disable drag in zoom modal
        document.getElementById('zoom-modal').addEventListener('dragstart', (e) => {
            if (e.target.tagName === 'IMG' || e.target.tagName === 'VIDEO') {
                e.preventDefault();
            }
        });

        // Prevent right-click & long press on images/videos
        document.addEventListener('contextmenu', function (e) {
            if (e.target.tagName === 'IMG' || e.target.tagName === 'VIDEO') {
                e.preventDefault();
            }
        }, false);

        // Prevent long-press save on images/videos, allow scroll gestures
        document.addEventListener('touchstart', function (e) {
            if (!(e.target.tagName === 'IMG' || e.target.tagName === 'VIDEO')) return;

            let startX = e.touches[0].clientX;
            let startY = e.touches[0].clientY;
            let moved = false;

            // Timer for long press prevention
            let timer = setTimeout(() => {
                if (!moved) e.preventDefault(); // only block if finger is held still
            }, 500);

            const moveHandler = (ev) => {
                const dx = Math.abs(ev.touches[0].clientX - startX);
                const dy = Math.abs(ev.touches[0].clientY - startY);
                if (dx > 10 || dy > 10) moved = true;

                // If inside gallery, intercept horizontal swipes but let vertical scroll
                if (e.target.closest('#gallery-scroll')) {
                    if (dx > dy) {
                        if (ev.cancelable) ev.preventDefault(); // horizontal gallery swipe
                    }
                }
            };

            const endHandler = () => {
                clearTimeout(timer);
                document.removeEventListener('touchmove', moveHandler);
                document.removeEventListener('touchend', endHandler);
                document.removeEventListener('touchcancel', endHandler);
            };

            document.addEventListener('touchmove', moveHandler, { passive: false });
            document.addEventListener('touchend', endHandler, { passive: true });
            document.addEventListener('touchcancel', endHandler, { passive: true });
        }, { passive: true });



        function autoScroll() {
            gallery.scrollLeft += scrollSpeed * scrollDirection;

            if (gallery.scrollLeft + gallery.clientWidth >= gallery.scrollWidth - 30) {
                scrollDirection = -1;
            } else if (gallery.scrollLeft <= 0) {
                scrollDirection = 1;
            }
        }
        setInterval(autoScroll, 20);


        // Zoom preview ‚Äî unified mouse + touch (tap) handlers
        document.querySelectorAll('.media-item img, .media-item video').forEach(media => {
            function openZoomEvent(e) {
                // Desktop click: ignore clicks on video controls area near the top
                if (e.type === 'click' && e.target.tagName === 'VIDEO' && e.offsetY < 20) return;

                // Touch events: avoid taps that land on the top 20px of a video (controls area)
                if ((e.type === 'touchend' || e.type === 'touchstart' || e.type === 'touchmove') && e.changedTouches && e.changedTouches[0]) {
                    const touchY = e.changedTouches[0].clientY;
                    const rect = this.getBoundingClientRect();
                    if (this.tagName === 'VIDEO' && (touchY - rect.top) < 20) return;
                }

                const zoomModal = document.getElementById('zoom-modal');
                const zoomContent = document.getElementById('zoom-content');
                zoomContent.innerHTML = '';

                if (this.tagName === 'IMG') {
                    const img = document.createElement('img');
                    img.src = this.src;
                    zoomContent.appendChild(img);
                } else if (this.tagName === 'VIDEO') {
                    const video = document.createElement('video');
                    video.src = this.currentSrc || this.src || (this.querySelector('source') && this.querySelector('source').src) || '';
                    video.loop = true;
                    video.muted = false;
                    video.autoplay = true;
                    video.controls = false;
                    zoomContent.appendChild(video);
                }

                zoomModal.style.display = 'flex';
            }

            // Mouse / pointer users
            media.addEventListener('click', openZoomEvent);

            // Touch users ‚Äî detect a tap (no significant move) and treat as a click
            let _touchStartX = 0;
            let _touchStartY = 0;
            let _touchMoved = false;
            let _touchStartTime = 0;

            media.addEventListener('touchstart', function (e) {
                if (e.touches.length !== 1) { _touchMoved = true; return; }
                _touchMoved = false;
                _touchStartX = e.touches[0].clientX;
                _touchStartY = e.touches[0].clientY;
                _touchStartTime = Date.now();
            }, { passive: true });

            media.addEventListener('touchmove', function (e) {
                const dx = Math.abs(e.touches[0].clientX - _touchStartX);
                const dy = Math.abs(e.touches[0].clientY - _touchStartY);
                if (dx > 10 || dy > 10) _touchMoved = true;
            }, { passive: true });

            media.addEventListener('touchend', function (e) {
                const elapsed = Date.now() - _touchStartTime;
                // If it moved a lot or was a long press, don't open zoom (likely a drag / context press)
                if (_touchMoved || elapsed > 500) return;
                openZoomEvent.call(this, e);
            });
        });



        // Close modal and stop video sound
        function closeModal() {
            const zoomModal = document.getElementById('zoom-modal');
            const zoomContent = document.getElementById('zoom-content');

            const video = zoomContent.querySelector('video');
            if (video) {
                video.pause();
                video.src = ''; // stops sound fully
            }

            zoomContent.innerHTML = ''; // clear content
            zoomModal.style.display = 'none';
        }

        document.getElementById('zoom-close').addEventListener('click', closeModal);

        document.getElementById('zoom-modal').addEventListener('click', (e) => {
            if (e.target.id === 'zoom-modal') {
                closeModal();
            }
        });







    </script>


</body>

</html>